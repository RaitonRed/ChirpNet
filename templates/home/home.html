{% extends 'main_base.html' %}
{% load static %}

{% block css_link %}
<link rel="stylesheet" type="text/css" href="{% static 'css/home/home.css' %}" />
{% endblock %}

{% block content %}

<!-- banner -->
<div id="home-banner">
    <h1>Home</h1>
</div>

<!-- tweet form -->
<div id="home-tweet-form">
  <div id="home-tweet-form-left-part">
    {% if current_basic_user_profile.profile_photo %}
      <div id="home-tweet-form-left-part-profile-photo" style="background-image:url('{{ current_basic_user_profile.profile_photo.url }}')"></div>
    {% else %}
      <div id="home-tweet-form-left-part-profile-photo"></div>
    {% endif %}
  </div>
  <div id="home-tweet-form-right-part">
    <form action="{% url 'home' %}" method="POST" enctype="multipart/form-data">
        {% csrf_token %}
        <textarea placeholder="What's happening?" name="tweet_content"></textarea>
        <label for="home-tweet-file-input"><i class="ri-image-add-line"></i></label>
        <input id="home-tweet-file-input" type="file" name="tweet_image" />
        <input id="home-tweet-submit-btn" type="submit" value="Tweet" name="home_page_tweet_form_submit_btn" />
    </form>
  </div>
</div>

<div id="small-diviser"></div>


<!-- all tweets listing -->
<div id="tweet-cell-container">

  <div id="tweet-cell">
    <div id="tweet-cell-left-part">
      <div id="tweet-cell-left-part-profile-photo" style="background-image:url('{% static 'test/test.jpg' %}')"></div>
    </div>
    <div id="tweet-cell-right-part">
      <p id="tweet-cell-header"><b><a href="">Keith Rabois</a></b> @rabois · 3h</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam</p>

      <div id="tweet-cell-right-part-bottom-links">
        <form id="tweet-cell-comment-form">
          <button type="submit" form="tweet-cell-comment-form"><i class="ri-chat-3-line"></i></button>
          <p>124</p>
        </form>

        <form id="tweet-cell-like-form">
          <button type="submit" form="tweet-cell-like-form"><i class="ri-heart-3-line"></i></button>
          <p>1422</p>
        </form>
      </div>
    </div><!-- /right-part -->
  </div><!--/cell -->




  <div id="tweet-cell">
    <div id="tweet-cell-left-part">
      <div id="tweet-cell-left-part-profile-photo" style="background-image:url('{% static 'test/test.jpg' %}')"></div>
    </div>
    <div id="tweet-cell-right-part">
      <p id="tweet-cell-header"><b><a href="">Keith Rabois</a></b> @rabois · 3h</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam</p>

      <div id="tweet-image" style="background-image:url('{% static 'test/test.jpg' %}')"></div>

      <div id="tweet-cell-right-part-bottom-links">
        <form id="tweet-cell-comment-form">
          <button type="submit" form="tweet-cell-comment-form"><i class="ri-chat-3-line"></i></button>
          <p>124</p>
        </form>

        <form id="tweet-cell-like-form">
          <button type="submit" form="tweet-cell-like-form"><i class="ri-heart-3-line"></i></button>
          <p>1422</p>
        </form>
      </div>
    </div><!-- /right-part -->
  </div><!--/cell -->

  {% for tweet in tweet_feed %}
    <div id="tweet-cell">
      <div id="tweet-cell-left-part">
        {% if tweet.user.profile_photo %}
          <div id="tweet-cell-left-part-profile-photo" style="background-image:url('{{ tweet.user.profile_photo.url }}')"></div>
        {% else %}
          <div id="tweet-cell-left-part-profile-photo"></div>
        {% endif %}
      </div>
      <div id="tweet-cell-right-part">
        <p id="tweet-cell-header"><b><a href="{% url 'other_user_profile' tweet.user.user.username %}">{{ tweet.user.full_name }}</a></b> @{{ tweet.user.user.username }} · {{ tweet.creation_date }}</p>
        <p>{{ tweet.content|linebreaks }}</p>

        {% if tweet.image %}
          <div id="tweet-image" style="background-image:url('{{ tweet.image.url }}')"></div>
        {% endif %}

        <div id="tweet-cell-right-part-bottom-links">
          <form id="tweet-cell-comment-form">
            <button type="submit" form="tweet-cell-comment-form"><i class="ri-chat-3-line"></i></button>
            <p>124</p>
          </form>

          <form id="tweet-cell-like-form">
            <button type="submit" form="tweet-cell-like-form"><i class="ri-heart-3-line"></i></button>
            <p>1422</p>
          </form>
        </div>
      </div><!-- /right-part -->
    </div><!--/cell -->
  {% endfor %}


</div><!--/container -->


{% endblock %}
